import{e as t,r as n,o as e,c as s,f as a,g as l,u as o,D as c,j as p,ag as d}from"./vendor.6730c589.js";const i={class:"markdown-body"},u=a("h1",null,"Crud",-1),r=a("blockquote",null,[a("p",null,"封装表格组件和表单组件实现通过配置动态生成页面，支持表格和表单组件的全部属性")],-1),k=a("h2",null,"使用",-1),g=a("h3",null,"基础用法",-1),f=a("p",null,"传入 columns 数据，自动生成表格",-1),y=a("pre",null,[a("code",null,[a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"<"),p("template")]),a("span",{class:"token punctuation"},">")]),p("\n  "),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"<"),p("pro-crud")]),p("\n    "),a("span",{class:"token attr-name"},"v-model"),a("span",{class:"token attr-value"},[a("span",{class:"token punctuation attr-equals"},"="),a("span",{class:"token punctuation"},'"'),p("form"),a("span",{class:"token punctuation"},'"')]),p("\n    "),a("span",{class:"token attr-name"},[a("span",{class:"token namespace"},"v-model:"),p("search")]),a("span",{class:"token attr-value"},[a("span",{class:"token punctuation attr-equals"},"="),a("span",{class:"token punctuation"},'"'),p("serachForm"),a("span",{class:"token punctuation"},'"')]),p("\n    "),a("span",{class:"token attr-name"},":columns"),a("span",{class:"token attr-value"},[a("span",{class:"token punctuation attr-equals"},"="),a("span",{class:"token punctuation"},'"'),p("columns"),a("span",{class:"token punctuation"},'"')]),p("\n    "),a("span",{class:"token attr-name"},":menu"),a("span",{class:"token attr-value"},[a("span",{class:"token punctuation attr-equals"},"="),a("span",{class:"token punctuation"},'"'),p("menu"),a("span",{class:"token punctuation"},'"')]),p("\n    "),a("span",{class:"token attr-name"},":data"),a("span",{class:"token attr-value"},[a("span",{class:"token punctuation attr-equals"},"="),a("span",{class:"token punctuation"},'"'),p("data"),a("span",{class:"token punctuation"},'"')]),p("\n    "),a("span",{class:"token attr-name"},"@search"),a("span",{class:"token attr-value"},[a("span",{class:"token punctuation attr-equals"},"="),a("span",{class:"token punctuation"},'"'),p("search"),a("span",{class:"token punctuation"},'"')]),p("\n    "),a("span",{class:"token attr-name"},"@submit"),a("span",{class:"token attr-value"},[a("span",{class:"token punctuation attr-equals"},"="),a("span",{class:"token punctuation"},'"'),p("submit"),a("span",{class:"token punctuation"},'"')]),p("\n    "),a("span",{class:"token attr-name"},"@delete"),a("span",{class:"token attr-value"},[a("span",{class:"token punctuation attr-equals"},"="),a("span",{class:"token punctuation"},'"'),p("deleteRow"),a("span",{class:"token punctuation"},'"')]),p("\n  "),a("span",{class:"token punctuation"},"/>")]),p("\n"),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"</"),p("template")]),a("span",{class:"token punctuation"},">")]),p("\n\n"),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"<"),p("script")]),a("span",{class:"token punctuation"},">")]),a("span",{class:"token script"},[a("span",{class:"token language-javascript"},[p("\n"),a("span",{class:"token keyword"},"import"),p(),a("span",{class:"token punctuation"},"{"),p(" ref "),a("span",{class:"token punctuation"},"}"),p(),a("span",{class:"token keyword"},"from"),p(),a("span",{class:"token string"},"'vue'"),p("\n\n"),a("span",{class:"token keyword"},"export"),p(),a("span",{class:"token keyword"},"default"),p(),a("span",{class:"token punctuation"},"{"),p("\n  "),a("span",{class:"token function"},"setup"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),p(),a("span",{class:"token punctuation"},"{"),p("\n    "),a("span",{class:"token keyword"},"const"),p(" form "),a("span",{class:"token operator"},"="),p(),a("span",{class:"token function"},"ref"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},"{"),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},")"),p("\n    "),a("span",{class:"token keyword"},"const"),p(" serachForm "),a("span",{class:"token operator"},"="),p(),a("span",{class:"token function"},"ref"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},"{"),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},")"),p("\n    "),a("span",{class:"token keyword"},"const"),p(" menu "),a("span",{class:"token operator"},"="),p(),a("span",{class:"token function"},"ref"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},"{"),p("\n      label"),a("span",{class:"token operator"},":"),p(),a("span",{class:"token string"},"'操作'"),a("span",{class:"token punctuation"},","),p("\n    "),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},")"),p("\n    "),a("span",{class:"token keyword"},"const"),p(" columns "),a("span",{class:"token operator"},"="),p(),a("span",{class:"token function"},"ref"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},"["),p("\n      "),a("span",{class:"token punctuation"},"{"),p("\n        label"),a("span",{class:"token operator"},":"),p(),a("span",{class:"token string"},"'日期'"),a("span",{class:"token punctuation"},","),p("\n        prop"),a("span",{class:"token operator"},":"),p(),a("span",{class:"token string"},"'date'"),a("span",{class:"token punctuation"},","),p("\n        component"),a("span",{class:"token operator"},":"),p(),a("span",{class:"token string"},"'el-input'"),a("span",{class:"token punctuation"},","),p("\n        add"),a("span",{class:"token operator"},":"),p(),a("span",{class:"token boolean"},"true"),a("span",{class:"token punctuation"},","),p("\n        edit"),a("span",{class:"token operator"},":"),p(),a("span",{class:"token boolean"},"true"),a("span",{class:"token punctuation"},","),p("\n        search"),a("span",{class:"token operator"},":"),p(),a("span",{class:"token boolean"},"true"),a("span",{class:"token punctuation"},","),p("\n      "),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},","),p("\n      "),a("span",{class:"token punctuation"},"{"),p("\n        label"),a("span",{class:"token operator"},":"),p(),a("span",{class:"token string"},"'姓名'"),a("span",{class:"token punctuation"},","),p("\n        prop"),a("span",{class:"token operator"},":"),p(),a("span",{class:"token string"},"'name'"),a("span",{class:"token punctuation"},","),p("\n        component"),a("span",{class:"token operator"},":"),p(),a("span",{class:"token string"},"'el-input'"),a("span",{class:"token punctuation"},","),p("\n        add"),a("span",{class:"token operator"},":"),p(),a("span",{class:"token boolean"},"true"),a("span",{class:"token punctuation"},","),p("\n        search"),a("span",{class:"token operator"},":"),p(),a("span",{class:"token boolean"},"true"),a("span",{class:"token punctuation"},","),p("\n      "),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},","),p("\n      "),a("span",{class:"token punctuation"},"{"),p("\n        label"),a("span",{class:"token operator"},":"),p(),a("span",{class:"token string"},"'地址'"),a("span",{class:"token punctuation"},","),p("\n        prop"),a("span",{class:"token operator"},":"),p(),a("span",{class:"token string"},"'address'"),a("span",{class:"token punctuation"},","),p("\n        component"),a("span",{class:"token operator"},":"),p(),a("span",{class:"token string"},"'el-input'"),a("span",{class:"token punctuation"},","),p("\n        add"),a("span",{class:"token operator"},":"),p(),a("span",{class:"token boolean"},"true"),a("span",{class:"token punctuation"},","),p("\n        edit"),a("span",{class:"token operator"},":"),p(),a("span",{class:"token boolean"},"true"),a("span",{class:"token punctuation"},","),p("\n      "),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},","),p("\n    "),a("span",{class:"token punctuation"},"]"),a("span",{class:"token punctuation"},")"),p("\n    "),a("span",{class:"token keyword"},"const"),p(" data "),a("span",{class:"token operator"},"="),p(),a("span",{class:"token function"},"ref"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},"["),p("\n      "),a("span",{class:"token punctuation"},"{"),p("\n        date"),a("span",{class:"token operator"},":"),p(),a("span",{class:"token string"},"'2016-05-03'"),a("span",{class:"token punctuation"},","),p("\n        name"),a("span",{class:"token operator"},":"),p(),a("span",{class:"token string"},"'Tom'"),a("span",{class:"token punctuation"},","),p("\n        address"),a("span",{class:"token operator"},":"),p(),a("span",{class:"token string"},"'No. 189, Grove St, Los Angeles'"),a("span",{class:"token punctuation"},","),p("\n      "),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},","),p("\n      "),a("span",{class:"token punctuation"},"{"),p("\n        date"),a("span",{class:"token operator"},":"),p(),a("span",{class:"token string"},"'2016-05-02'"),a("span",{class:"token punctuation"},","),p("\n        name"),a("span",{class:"token operator"},":"),p(),a("span",{class:"token string"},"'Tom'"),a("span",{class:"token punctuation"},","),p("\n        address"),a("span",{class:"token operator"},":"),p(),a("span",{class:"token string"},"'No. 189, Grove St, Los Angeles'"),a("span",{class:"token punctuation"},","),p("\n      "),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},","),p("\n    "),a("span",{class:"token punctuation"},"]"),a("span",{class:"token punctuation"},")"),p("\n\n    "),a("span",{class:"token keyword"},"function"),p(),a("span",{class:"token function"},"search"),a("span",{class:"token punctuation"},"("),a("span",{class:"token parameter"},[p("done"),a("span",{class:"token punctuation"},","),p(" isValid"),a("span",{class:"token punctuation"},","),p(" invalidFields")]),a("span",{class:"token punctuation"},")"),p(),a("span",{class:"token punctuation"},"{"),p("\n      console"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"log"),a("span",{class:"token punctuation"},"("),a("span",{class:"token string"},"'search'"),a("span",{class:"token punctuation"},","),p(" isValid"),a("span",{class:"token punctuation"},","),p(" invalidFields"),a("span",{class:"token punctuation"},")"),p("\n      "),a("span",{class:"token function"},"setTimeout"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),p(),a("span",{class:"token operator"},"=>"),p(),a("span",{class:"token punctuation"},"{"),p("\n        "),a("span",{class:"token function"},"done"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),p("\n      "),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},","),p(),a("span",{class:"token number"},"1000"),a("span",{class:"token punctuation"},")"),p("\n    "),a("span",{class:"token punctuation"},"}"),p("\n\n    "),a("span",{class:"token keyword"},"function"),p(),a("span",{class:"token function"},"submit"),a("span",{class:"token punctuation"},"("),a("span",{class:"token parameter"},[p("formType"),a("span",{class:"token punctuation"},","),p(" close"),a("span",{class:"token punctuation"},","),p(" done"),a("span",{class:"token punctuation"},","),p(" isValid"),a("span",{class:"token punctuation"},","),p(" invalidFields")]),a("span",{class:"token punctuation"},")"),p(),a("span",{class:"token punctuation"},"{"),p("\n      console"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"log"),a("span",{class:"token punctuation"},"("),a("span",{class:"token string"},"'submit'"),a("span",{class:"token punctuation"},","),p(" formType"),a("span",{class:"token punctuation"},","),p(" isValid"),a("span",{class:"token punctuation"},","),p(" invalidFields"),a("span",{class:"token punctuation"},")"),p("\n      "),a("span",{class:"token function"},"setTimeout"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),p(),a("span",{class:"token operator"},"=>"),p(),a("span",{class:"token punctuation"},"{"),p("\n        isValid "),a("span",{class:"token operator"},"?"),p(),a("span",{class:"token function"},"close"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),p(),a("span",{class:"token operator"},":"),p(),a("span",{class:"token function"},"done"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),p("\n      "),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},","),p(),a("span",{class:"token number"},"1000"),a("span",{class:"token punctuation"},")"),p("\n    "),a("span",{class:"token punctuation"},"}"),p("\n\n    "),a("span",{class:"token keyword"},"function"),p(),a("span",{class:"token function"},"deleteRow"),a("span",{class:"token punctuation"},"("),a("span",{class:"token parameter"},"row"),a("span",{class:"token punctuation"},")"),p(),a("span",{class:"token punctuation"},"{"),p("\n      console"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"log"),a("span",{class:"token punctuation"},"("),a("span",{class:"token string"},"'deleteRow'"),a("span",{class:"token punctuation"},","),p(" row"),a("span",{class:"token punctuation"},")"),p("\n    "),a("span",{class:"token punctuation"},"}"),p("\n\n    "),a("span",{class:"token keyword"},"return"),p(),a("span",{class:"token punctuation"},"{"),p("\n      form"),a("span",{class:"token punctuation"},","),p("\n      serachForm"),a("span",{class:"token punctuation"},","),p("\n      menu"),a("span",{class:"token punctuation"},","),p("\n      data"),a("span",{class:"token punctuation"},","),p("\n      columns"),a("span",{class:"token punctuation"},","),p("\n      search"),a("span",{class:"token punctuation"},","),p("\n      submit"),a("span",{class:"token punctuation"},","),p("\n      deleteRow"),a("span",{class:"token punctuation"},","),p("\n    "),a("span",{class:"token punctuation"},"}"),p("\n  "),a("span",{class:"token punctuation"},"}"),p("\n"),a("span",{class:"token punctuation"},"}"),p("\n")])]),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"</"),p("script")]),a("span",{class:"token punctuation"},">")]),p("\n")])],-1),x=a("h3",null,"弹窗前后",-1),m=a("p",null,[p("通过 "),a("code",null,"before-open"),p(),a("code",null,"before-close"),p(" 指定弹窗开启前与弹窗关闭前执行的操作")],-1),b=a("pre",null,[a("code",null,[a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"<"),p("template")]),a("span",{class:"token punctuation"},">")]),p("\n  "),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"<"),p("pro-crud")]),p("\n    "),a("span",{class:"token attr-name"},"v-model"),a("span",{class:"token attr-value"},[a("span",{class:"token punctuation attr-equals"},"="),a("span",{class:"token punctuation"},'"'),p("form"),a("span",{class:"token punctuation"},'"')]),p("\n    "),a("span",{class:"token attr-name"},":columns"),a("span",{class:"token attr-value"},[a("span",{class:"token punctuation attr-equals"},"="),a("span",{class:"token punctuation"},'"'),p("columns1"),a("span",{class:"token punctuation"},'"')]),p("\n    "),a("span",{class:"token attr-name"},":menu"),a("span",{class:"token attr-value"},[a("span",{class:"token punctuation attr-equals"},"="),a("span",{class:"token punctuation"},'"'),p("menu"),a("span",{class:"token punctuation"},'"')]),p("\n    "),a("span",{class:"token attr-name"},":data"),a("span",{class:"token attr-value"},[a("span",{class:"token punctuation attr-equals"},"="),a("span",{class:"token punctuation"},'"'),p("data"),a("span",{class:"token punctuation"},'"')]),p("\n    "),a("span",{class:"token attr-name"},":before-open"),a("span",{class:"token attr-value"},[a("span",{class:"token punctuation attr-equals"},"="),a("span",{class:"token punctuation"},'"'),p("beforeOpen"),a("span",{class:"token punctuation"},'"')]),p("\n    "),a("span",{class:"token attr-name"},":before-close"),a("span",{class:"token attr-value"},[a("span",{class:"token punctuation attr-equals"},"="),a("span",{class:"token punctuation"},'"'),p("beforeClose"),a("span",{class:"token punctuation"},'"')]),p("\n  "),a("span",{class:"token punctuation"},"/>")]),p("\n"),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"</"),p("template")]),a("span",{class:"token punctuation"},">")]),p("\n\n"),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"<"),p("script")]),a("span",{class:"token punctuation"},">")]),a("span",{class:"token script"},[a("span",{class:"token language-javascript"},[p("\n"),a("span",{class:"token keyword"},"import"),p(),a("span",{class:"token punctuation"},"{"),p(" ref "),a("span",{class:"token punctuation"},"}"),p(),a("span",{class:"token keyword"},"from"),p(),a("span",{class:"token string"},"'vue'"),p("\n\n"),a("span",{class:"token keyword"},"export"),p(),a("span",{class:"token keyword"},"default"),p(),a("span",{class:"token punctuation"},"{"),p("\n  "),a("span",{class:"token function"},"setup"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),p(),a("span",{class:"token punctuation"},"{"),p("\n    "),a("span",{class:"token keyword"},"const"),p(" form "),a("span",{class:"token operator"},"="),p(),a("span",{class:"token function"},"ref"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},"{"),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},")"),p("\n    "),a("span",{class:"token keyword"},"const"),p(" menu "),a("span",{class:"token operator"},"="),p(),a("span",{class:"token function"},"ref"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},"{"),p("\n      label"),a("span",{class:"token operator"},":"),p(),a("span",{class:"token string"},"'操作'"),a("span",{class:"token punctuation"},","),p("\n    "),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},")"),p("\n    "),a("span",{class:"token keyword"},"const"),p(" columns1 "),a("span",{class:"token operator"},"="),p(),a("span",{class:"token function"},"ref"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},"["),p("\n      "),a("span",{class:"token punctuation"},"{"),p("\n        label"),a("span",{class:"token operator"},":"),p(),a("span",{class:"token string"},"'日期'"),a("span",{class:"token punctuation"},","),p("\n        prop"),a("span",{class:"token operator"},":"),p(),a("span",{class:"token string"},"'date'"),a("span",{class:"token punctuation"},","),p("\n        component"),a("span",{class:"token operator"},":"),p(),a("span",{class:"token string"},"'el-input'"),a("span",{class:"token punctuation"},","),p("\n        form"),a("span",{class:"token operator"},":"),p(),a("span",{class:"token boolean"},"true"),a("span",{class:"token punctuation"},","),p("\n      "),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},","),p("\n      "),a("span",{class:"token punctuation"},"{"),p("\n        label"),a("span",{class:"token operator"},":"),p(),a("span",{class:"token string"},"'姓名'"),a("span",{class:"token punctuation"},","),p("\n        prop"),a("span",{class:"token operator"},":"),p(),a("span",{class:"token string"},"'name'"),a("span",{class:"token punctuation"},","),p("\n      "),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},","),p("\n      "),a("span",{class:"token punctuation"},"{"),p("\n        label"),a("span",{class:"token operator"},":"),p(),a("span",{class:"token string"},"'地址'"),a("span",{class:"token punctuation"},","),p("\n        prop"),a("span",{class:"token operator"},":"),p(),a("span",{class:"token string"},"'address'"),a("span",{class:"token punctuation"},","),p("\n      "),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},","),p("\n    "),a("span",{class:"token punctuation"},"]"),a("span",{class:"token punctuation"},")"),p("\n    "),a("span",{class:"token keyword"},"const"),p(" data "),a("span",{class:"token operator"},"="),p(),a("span",{class:"token function"},"ref"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},"["),p("\n      "),a("span",{class:"token punctuation"},"{"),p("\n        date"),a("span",{class:"token operator"},":"),p(),a("span",{class:"token string"},"'2016-05-03'"),a("span",{class:"token punctuation"},","),p("\n        name"),a("span",{class:"token operator"},":"),p(),a("span",{class:"token string"},"'Tom'"),a("span",{class:"token punctuation"},","),p("\n        address"),a("span",{class:"token operator"},":"),p(),a("span",{class:"token string"},"'No. 189, Grove St, Los Angeles'"),a("span",{class:"token punctuation"},","),p("\n      "),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},","),p("\n      "),a("span",{class:"token punctuation"},"{"),p("\n        date"),a("span",{class:"token operator"},":"),p(),a("span",{class:"token string"},"'2016-05-02'"),a("span",{class:"token punctuation"},","),p("\n        name"),a("span",{class:"token operator"},":"),p(),a("span",{class:"token string"},"'Tom'"),a("span",{class:"token punctuation"},","),p("\n        address"),a("span",{class:"token operator"},":"),p(),a("span",{class:"token string"},"'No. 189, Grove St, Los Angeles'"),a("span",{class:"token punctuation"},","),p("\n      "),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},","),p("\n    "),a("span",{class:"token punctuation"},"]"),a("span",{class:"token punctuation"},")"),p("\n\n    "),a("span",{class:"token keyword"},"function"),p(),a("span",{class:"token function"},"beforeOpen"),a("span",{class:"token punctuation"},"("),a("span",{class:"token parameter"},[p("done"),a("span",{class:"token punctuation"},","),p(" type"),a("span",{class:"token punctuation"},","),p(" row")]),a("span",{class:"token punctuation"},")"),p(),a("span",{class:"token punctuation"},"{"),p("\n      console"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"log"),a("span",{class:"token punctuation"},"("),a("span",{class:"token string"},"'beforeOpen'"),a("span",{class:"token punctuation"},","),p(" type"),a("span",{class:"token punctuation"},","),p(" row"),a("span",{class:"token punctuation"},")"),p("\n      "),a("span",{class:"token function"},"setTimeout"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),p(),a("span",{class:"token operator"},"=>"),p(),a("span",{class:"token punctuation"},"{"),p("\n        "),a("span",{class:"token function"},"done"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),p("\n      "),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},","),p(),a("span",{class:"token number"},"1000"),a("span",{class:"token punctuation"},")"),p("\n    "),a("span",{class:"token punctuation"},"}"),p("\n\n    "),a("span",{class:"token keyword"},"function"),p(),a("span",{class:"token function"},"beforeClose"),a("span",{class:"token punctuation"},"("),a("span",{class:"token parameter"},"done"),a("span",{class:"token punctuation"},")"),p(),a("span",{class:"token punctuation"},"{"),p("\n      console"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"log"),a("span",{class:"token punctuation"},"("),a("span",{class:"token string"},"'beforeClose'"),a("span",{class:"token punctuation"},")"),p("\n      "),a("span",{class:"token function"},"setTimeout"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),p(),a("span",{class:"token operator"},"=>"),p(),a("span",{class:"token punctuation"},"{"),p("\n        "),a("span",{class:"token function"},"done"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),p("\n      "),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},","),p(),a("span",{class:"token number"},"1000"),a("span",{class:"token punctuation"},")"),p("\n    "),a("span",{class:"token punctuation"},"}"),p("\n\n    "),a("span",{class:"token keyword"},"return"),p(),a("span",{class:"token punctuation"},"{"),p("\n      form"),a("span",{class:"token punctuation"},","),p("\n      columns1"),a("span",{class:"token punctuation"},","),p("\n      menu"),a("span",{class:"token punctuation"},","),p("\n      data"),a("span",{class:"token punctuation"},","),p("\n      beforeOpen"),a("span",{class:"token punctuation"},","),p("\n      beforeClose"),a("span",{class:"token punctuation"},","),p("\n    "),a("span",{class:"token punctuation"},"}"),p("\n  "),a("span",{class:"token punctuation"},"}"),p("\n"),a("span",{class:"token punctuation"},"}"),p("\n")])]),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"</"),p("script")]),a("span",{class:"token punctuation"},">")]),p("\n")])],-1),h=d('<p>// TODO: more demo</p><h2>配置</h2><table><thead><tr><th style="text-align:left;">参数</th><th style="text-align:left;">说明</th><th style="text-align:left;">类型</th><th style="text-align:left;">可选值</th><th style="text-align:left;">默认值</th></tr></thead><tbody><tr><td style="text-align:left;">v-model</td><td style="text-align:left;">表单绑定值</td><td style="text-align:left;">object</td><td style="text-align:left;">-</td><td style="text-align:left;">-</td></tr><tr><td style="text-align:left;">v-model:search</td><td style="text-align:left;">搜索表单绑定值</td><td style="text-align:left;">object</td><td style="text-align:left;">-</td><td style="text-align:left;">-</td></tr><tr><td style="text-align:left;">columns</td><td style="text-align:left;">自动生成 Crud 的参数，参考下面 columns</td><td style="text-align:left;">array</td><td style="text-align:left;">-</td><td style="text-align:left;">-</td></tr><tr><td style="text-align:left;">add-columns</td><td style="text-align:left;">自动生成新增表单的参数，参考下面 columns</td><td style="text-align:left;">array</td><td style="text-align:left;">-</td><td style="text-align:left;">从 <code>columns</code> 中获取</td></tr><tr><td style="text-align:left;">edit-columns</td><td style="text-align:left;">自动生成编辑表单的参数，参考下面 columns</td><td style="text-align:left;">array</td><td style="text-align:left;">-</td><td style="text-align:left;">从 <code>columns</code> 中获取</td></tr><tr><td style="text-align:left;">form-columns</td><td style="text-align:left;">自动生成表单的参数，参考下面 columns</td><td style="text-align:left;">array</td><td style="text-align:left;">-</td><td style="text-align:left;">从 <code>columns</code> 中获取</td></tr><tr><td style="text-align:left;">search-columns</td><td style="text-align:left;">自动生成搜索表单的参数，参考下面 columns</td><td style="text-align:left;">array</td><td style="text-align:left;">-</td><td style="text-align:left;">从 <code>columns</code> 中获取</td></tr><tr><td style="text-align:left;">table-columns</td><td style="text-align:left;">自动生成表格的参数，参考下面 columns</td><td style="text-align:left;">array</td><td style="text-align:left;">-</td><td style="text-align:left;">从 <code>columns</code> 中获取</td></tr><tr><td style="text-align:left;">menu</td><td style="text-align:left;">按钮配置参考下面 <code>menu</code></td><td style="text-align:left;">object</td><td style="text-align:left;">-</td><td style="text-align:left;">-</td></tr><tr><td style="text-align:left;">search-rules</td><td style="text-align:left;">搜索表单验证规则</td><td style="text-align:left;">object</td><td style="text-align:left;">-</td><td style="text-align:left;">-</td></tr><tr><td style="text-align:left;">title</td><td style="text-align:left;">弹窗的标题</td><td style="text-align:left;">string</td><td style="text-align:left;">—</td><td style="text-align:left;">同 menu addText / editText</td></tr><tr><td style="text-align:left;">width</td><td style="text-align:left;">弹窗的宽度</td><td style="text-align:left;">string / number</td><td style="text-align:left;">—</td><td style="text-align:left;">50%</td></tr><tr><td style="text-align:left;">fullscreen</td><td style="text-align:left;">是否为全屏弹窗</td><td style="text-align:left;">boolean</td><td style="text-align:left;">—</td><td style="text-align:left;">false</td></tr><tr><td style="text-align:left;">top</td><td style="text-align:left;">弹窗 CSS 中的 margin-top 值</td><td style="text-align:left;">string</td><td style="text-align:left;">—</td><td style="text-align:left;">15vh</td></tr><tr><td style="text-align:left;">modal</td><td style="text-align:left;">是否需要遮罩层</td><td style="text-align:left;">boolean</td><td style="text-align:left;">—</td><td style="text-align:left;">true</td></tr><tr><td style="text-align:left;">append-to-body</td><td style="text-align:left;">弹窗自身是否插入至 body 元素上</td><td style="text-align:left;">boolean</td><td style="text-align:left;">—</td><td style="text-align:left;">false</td></tr><tr><td style="text-align:left;">lock-scroll</td><td style="text-align:left;">是否在 弹窗出现时将 body 滚动锁定</td><td style="text-align:left;">boolean</td><td style="text-align:left;">—</td><td style="text-align:left;">true</td></tr><tr><td style="text-align:left;">custom-class</td><td style="text-align:left;">弹窗的自定义类名</td><td style="text-align:left;">string</td><td style="text-align:left;">—</td><td style="text-align:left;">pro-crud-dialog</td></tr><tr><td style="text-align:left;">open-delay</td><td style="text-align:left;">弹窗打开的延时时间，单位毫秒</td><td style="text-align:left;">number</td><td style="text-align:left;">—</td><td style="text-align:left;">0</td></tr><tr><td style="text-align:left;">close-delay</td><td style="text-align:left;">弹窗关闭的延时时间，单位毫秒</td><td style="text-align:left;">number</td><td style="text-align:left;">—</td><td style="text-align:left;">0</td></tr><tr><td style="text-align:left;">close-on-click-modal</td><td style="text-align:left;">是否可以通过点击 modal 关闭弹窗</td><td style="text-align:left;">boolean</td><td style="text-align:left;">—</td><td style="text-align:left;">true</td></tr><tr><td style="text-align:left;">close-on-press-escape</td><td style="text-align:left;">是否可以通过按下 ESC 关闭弹窗</td><td style="text-align:left;">boolean</td><td style="text-align:left;">—</td><td style="text-align:left;">true</td></tr><tr><td style="text-align:left;">show-close</td><td style="text-align:left;">是否显示关闭按钮</td><td style="text-align:left;">boolean</td><td style="text-align:left;">—</td><td style="text-align:left;">true</td></tr><tr><td style="text-align:left;">before-open</td><td style="text-align:left;">弹窗开启前的回调，会暂停弹窗的开启</td><td style="text-align:left;">Function(done, formType, row)</td><td style="text-align:left;">-</td><td style="text-align:left;">-</td></tr><tr><td style="text-align:left;">before-close</td><td style="text-align:left;">关闭前的回调，会暂停弹窗的关闭</td><td style="text-align:left;">Function(done)，done 用于关闭弹窗</td><td style="text-align:left;">—</td><td style="text-align:left;">—</td></tr><tr><td style="text-align:left;">center</td><td style="text-align:left;">是否对头部和底部采用居中布局</td><td style="text-align:left;">boolean</td><td style="text-align:left;">—</td><td style="text-align:left;">false</td></tr><tr><td style="text-align:left;">destroy-on-close</td><td style="text-align:left;">关闭时销毁弹窗中的元素</td><td style="text-align:left;">boolean</td><td style="text-align:left;">—</td><td style="text-align:left;">false</td></tr></tbody></table><div class="tip custom-block"><p class="custom-block-title">提示</p><p>其它属性与 Table 和 Form 相同</p></div><ul><li>columns 的参数</li></ul><table><thead><tr><th style="text-align:left;">参数</th><th style="text-align:left;">说明</th><th style="text-align:left;">类型</th><th style="text-align:left;">可选值</th><th style="text-align:left;">默认值</th></tr></thead><tbody><tr><td style="text-align:left;">add</td><td style="text-align:left;">是否在新增表单中显示</td><td style="text-align:left;">boolean</td><td style="text-align:left;">-</td><td style="text-align:left;">false</td></tr><tr><td style="text-align:left;">edit</td><td style="text-align:left;">是否在编辑表单中显示</td><td style="text-align:left;">boolean</td><td style="text-align:left;">-</td><td style="text-align:left;">false</td></tr><tr><td style="text-align:left;">form</td><td style="text-align:left;">是否在表单中显示</td><td style="text-align:left;">boolean</td><td style="text-align:left;">-</td><td style="text-align:left;">false</td></tr><tr><td style="text-align:left;">search</td><td style="text-align:left;">是否在搜索表单中显示</td><td style="text-align:left;">boolean</td><td style="text-align:left;">-</td><td style="text-align:left;">false</td></tr><tr><td style="text-align:left;">hide</td><td style="text-align:left;">是否在表格中隐藏</td><td style="text-align:left;">boolean</td><td style="text-align:left;">-</td><td style="text-align:left;">false</td></tr></tbody></table><div class="tip custom-block"><p class="custom-block-title">提示</p><p>其它属性与 Table columns 和 Form columns 相同</p></div><ul><li>menu 的参数 (可通过全局配置配置)</li></ul><table><thead><tr><th style="text-align:left;">参数</th><th style="text-align:left;">说明</th><th style="text-align:left;">类型</th><th style="text-align:left;">可选值</th><th style="text-align:left;">默认值</th></tr></thead><tbody><tr><td style="text-align:left;">add</td><td style="text-align:left;">是否显示 add 按钮</td><td style="text-align:left;">boolean</td><td style="text-align:left;">-</td><td style="text-align:left;">true</td></tr><tr><td style="text-align:left;">addText</td><td style="text-align:left;">add 按钮显示的文字</td><td style="text-align:left;">string</td><td style="text-align:left;">-</td><td style="text-align:left;">Add</td></tr><tr><td style="text-align:left;">addProps</td><td style="text-align:left;">add 按钮的配置，参考 el-button</td><td style="text-align:left;">object</td><td style="text-align:left;">-</td><td style="text-align:left;">{ type: ‘primary’ }</td></tr><tr><td style="text-align:left;">edit</td><td style="text-align:left;">是否显示 edit 按钮</td><td style="text-align:left;">boolean / Function(row)</td><td style="text-align:left;">-</td><td style="text-align:left;">true</td></tr><tr><td style="text-align:left;">editText</td><td style="text-align:left;">edit 按钮显示的文字</td><td style="text-align:left;">string</td><td style="text-align:left;">-</td><td style="text-align:left;">Edit</td></tr><tr><td style="text-align:left;">editProps</td><td style="text-align:left;">edit 按钮的配置，参考 el-button</td><td style="text-align:left;">object</td><td style="text-align:left;">-</td><td style="text-align:left;">{ type: ‘text’ }</td></tr><tr><td style="text-align:left;">del</td><td style="text-align:left;">是否显示 del 按钮</td><td style="text-align:left;">boolean / Function(row)</td><td style="text-align:left;">-</td><td style="text-align:left;">true</td></tr><tr><td style="text-align:left;">delText</td><td style="text-align:left;">del 按钮显示的文字</td><td style="text-align:left;">string</td><td style="text-align:left;">-</td><td style="text-align:left;">Delete</td></tr><tr><td style="text-align:left;">delProps</td><td style="text-align:left;">del 按钮的配置，参考 el-button</td><td style="text-align:left;">object</td><td style="text-align:left;">-</td><td style="text-align:left;">{ type: ‘text’ }</td></tr><tr><td style="text-align:left;">submit</td><td style="text-align:left;">是否显示 submit 按钮</td><td style="text-align:left;">boolean</td><td style="text-align:left;">-</td><td style="text-align:left;">true</td></tr><tr><td style="text-align:left;">submitText</td><td style="text-align:left;">submit 按钮显示的文字</td><td style="text-align:left;">string</td><td style="text-align:left;">-</td><td style="text-align:left;">Submit</td></tr><tr><td style="text-align:left;">submitProps</td><td style="text-align:left;">submit 按钮的配置，参考 el-button</td><td style="text-align:left;">object</td><td style="text-align:left;">-</td><td style="text-align:left;">{ type: ‘primary’ }</td></tr><tr><td style="text-align:left;">reset</td><td style="text-align:left;">是否显示 reset 按钮</td><td style="text-align:left;">boolean</td><td style="text-align:left;">-</td><td style="text-align:left;">true</td></tr><tr><td style="text-align:left;">resetText</td><td style="text-align:left;">是否显示 reset 按钮显示的文字</td><td style="text-align:left;">string</td><td style="text-align:left;">-</td><td style="text-align:left;">Reset</td></tr><tr><td style="text-align:left;">resetProps</td><td style="text-align:left;">reset 按钮的配置，参考 el-button</td><td style="text-align:left;">object</td><td style="text-align:left;">-</td><td style="text-align:left;">-</td></tr><tr><td style="text-align:left;">search</td><td style="text-align:left;">是否显示 search 按钮</td><td style="text-align:left;">boolean</td><td style="text-align:left;">-</td><td style="text-align:left;">true</td></tr><tr><td style="text-align:left;">searchText</td><td style="text-align:left;">search 按钮显示的文字</td><td style="text-align:left;">string</td><td style="text-align:left;">-</td><td style="text-align:left;">Search</td></tr><tr><td style="text-align:left;">searchProps</td><td style="text-align:left;">search 按钮的配置，参考 el-button</td><td style="text-align:left;">object</td><td style="text-align:left;">-</td><td style="text-align:left;">{ type: ‘primary’ }</td></tr><tr><td style="text-align:left;">searchReset</td><td style="text-align:left;">是否显示 reset 按钮</td><td style="text-align:left;">boolean</td><td style="text-align:left;">-</td><td style="text-align:left;">true</td></tr><tr><td style="text-align:left;">searchResetText</td><td style="text-align:left;">是否显示 reset 按钮显示的文字</td><td style="text-align:left;">string</td><td style="text-align:left;">-</td><td style="text-align:left;">Reset</td></tr><tr><td style="text-align:left;">searchResetProps</td><td style="text-align:left;">reset 按钮的配置，参考 el-button</td><td style="text-align:left;">object</td><td style="text-align:left;">-</td><td style="text-align:left;">-</td></tr></tbody></table><div class="tip custom-block"><p class="custom-block-title">提示</p><p>其它属性同 Table columns</p></div><h2>事件</h2><table><thead><tr><th>事件名</th><th>说明</th><th>参数</th></tr></thead><tbody><tr><td>submit</td><td>submit 被点击后触发</td><td>‘add’/‘edit’, close, done, isValid, invalidFields</td></tr><tr><td>reset</td><td>reset 按钮被点击后触发</td><td>-</td></tr><tr><td>delete</td><td>delete 按钮被点击后触发</td><td>row</td></tr><tr><td>search</td><td>search 按钮被点击后触发</td><td>done, isValid, invalidFields</td></tr></tbody></table><div class="tip custom-block"><p class="custom-block-title">提示</p><p>其它事件与 Table 和 Form 相同</p></div><h2>方法</h2><table><thead><tr><th>方法名</th><th>说明</th><th>参数</th></tr></thead><tbody><tr><td>clearSelection</td><td>用于多选表格，清空用户的选择</td><td>-</td></tr><tr><td>toggleRowSelection</td><td>用于多选表格，切换某一行的选中状态，如果使用了第二个参数，则是设置这一行选中与否（selected 为 true 则选中）</td><td>row, selected</td></tr><tr><td>toggleAllSelection</td><td>用于多选表格，切换全选和全不选</td><td>-</td></tr><tr><td>toggleRowExpansion</td><td>用于可展开表格与树形表格，切换某一行的展开状态，如果使用了第二个参数，则是设置这一行展开与否（expanded 为 true 则展开）</td><td>row, expanded</td></tr><tr><td>setCurrentRow</td><td>用于单选表格，设定某一行为选中行，如果调用时不加参数，则会取消目前高亮行的选中状态。</td><td>row</td></tr><tr><td>clearSort</td><td>用于清空排序条件，数据会恢复成未排序的状态</td><td>-</td></tr><tr><td>clearFilter</td><td>不传入参数时用于清空所有过滤条件，数据会恢复成未过滤的状态，也可传入由 columnKey 组成的数组以清除指定列的过滤条件</td><td>columnKey</td></tr><tr><td>doLayout</td><td>对 Table 进行重新布局。当 Table 或其祖先元素由隐藏切换为显示时，可能需要调用此方法</td><td>-</td></tr><tr><td>sort</td><td>手动对 Table 进行排序。参数<code>prop</code>属性指定排序列，<code>order</code>指定排序顺序。</td><td>prop: string, order: string</td></tr><tr><td>validate</td><td>对整个表单进行校验的方法，参数为一个回调函数。该回调函数会在校验结束后被调用，并传入两个参数：是否校验成功和未通过校验的字段。若不传入回调函数，则会返回一个 promise</td><td>Function(callback: Function(boolean, object))</td></tr><tr><td>validateField</td><td>对部分表单字段进行校验的方法</td><td>Function(props: array | string, callback: Function(errorMessage: string))</td></tr><tr><td>resetFields</td><td>对整个表单进行重置，将所有字段值重置为初始值并移除校验结果</td><td>-</td></tr><tr><td>clearValidate</td><td>移除表单项的校验结果。传入待移除的表单项的 prop 属性或者 prop 组成的数组，如不传则移除整个表单的校验结果</td><td>Function(props: array | string)</td></tr></tbody></table><div class="tip custom-block"><p class="custom-block-title">提示</p><p>如果使用 <code>typescript</code> 可以从组件中导出 <code>ICrudExpose</code> 提供更好的类型推导</p></div><h2>插槽</h2><table><thead><tr><th style="text-align:left;">name</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">menu-left</td><td style="text-align:left;">新增按钮左侧</td></tr><tr><td style="text-align:left;">menu-right</td><td style="text-align:left;">新增按钮右侧</td></tr><tr><td style="text-align:left;">table</td><td style="text-align:left;">在表格右侧菜单前插入的任意内容</td></tr><tr><td style="text-align:left;">menu</td><td style="text-align:left;">表格右侧自定义按钮，参数为 { size, row, column, $index }</td></tr><tr><td style="text-align:left;">expand</td><td style="text-align:left;">当 expand 为 true 时，配置展开显示的内容，参数为 { row, column, $index }</td></tr><tr><td style="text-align:left;">append</td><td style="text-align:left;">插入至表格最后一行之后的内容</td></tr><tr><td style="text-align:left;">table-[prop]</td><td style="text-align:left;">当前这列的内容，参数为 { row, column, $index }</td></tr><tr><td style="text-align:left;">[prop]-header</td><td style="text-align:left;">当前这列表头的内容，参数为 { column, $index }</td></tr><tr><td style="text-align:left;">form</td><td style="text-align:left;">在表单底部按钮前插入的任意内容</td></tr><tr><td style="text-align:left;">form-menu-left</td><td style="text-align:left;">表单底部按钮左侧</td></tr><tr><td style="text-align:left;">form-menu-right</td><td style="text-align:left;">表单底部按钮右侧</td></tr><tr><td style="text-align:left;">form-[prop]</td><td style="text-align:left;">当前这项的 Form Item 的内容，参数为 { item, value, setValue }</td></tr><tr><td style="text-align:left;">[prop]-label</td><td style="text-align:left;">当前这项的标签文本的内容，参数为 { item }</td></tr><tr><td style="text-align:left;">[prop]-error</td><td style="text-align:left;">当前这项的自定义表单校验信息的显示方式，参数为 { error, item }</td></tr><tr><td style="text-align:left;">search</td><td style="text-align:left;">在搜索按钮菜单前插入的任意内容</td></tr><tr><td style="text-align:left;">search-menu-left</td><td style="text-align:left;">搜索表单按钮左侧</td></tr><tr><td style="text-align:left;">search-menu-right</td><td style="text-align:left;">搜索表单按钮右侧</td></tr><tr><td style="text-align:left;">search-[prop]</td><td style="text-align:left;">当前这项的 Form Item 的内容，参数为 { item, value, setValue }</td></tr><tr><td style="text-align:left;">search-[prop]-label</td><td style="text-align:left;">当前这项的标签文本的内容，参数为 { item }</td></tr><tr><td style="text-align:left;">search-[prop]-error</td><td style="text-align:left;">当前这项的自定义表单校验信息的显示方式，参数为 { error, item }</td></tr></tbody></table><div class="tip custom-block"><p class="custom-block-title">提示</p><p>[prop] 为 columns 中定义的 prop</p></div>',19),v={expose:[],setup(p){let d=t({}),v=t({}),w=t({label:"操作"}),T=t([{label:"日期",prop:"date",component:"el-input",add:!0,edit:!0,search:!0},{label:"姓名",prop:"name",component:"el-input",add:!0,search:!0},{label:"地址",prop:"address",component:"el-input",add:!0,edit:!0}]),F=t([{date:"2016-05-03",name:"Tom",address:"No. 189, Grove St, Los Angeles"},{date:"2016-05-02",name:"Tom",address:"No. 189, Grove St, Los Angeles"}]);function S(t,n,e){console.log("search",n,e),setTimeout((()=>{t()}),1e3)}function j(t,n,e,s,a){console.log("submit",t,s,a),setTimeout((()=>{s?n():e()}),1e3)}function V(t){console.log("deleteRow",t)}d=t({}),w=t({label:"操作"});let q=t([{label:"日期",prop:"date",component:"el-input",form:!0},{label:"姓名",prop:"name"},{label:"地址",prop:"address"}]);function R(t,n,e){console.log("beforeOpen",n,e),setTimeout((()=>{t()}),1e3)}function C(t){console.log("beforeClose"),setTimeout((()=>{t()}),1e3)}return F=t([{date:"2016-05-03",name:"Tom",address:"No. 189, Grove St, Los Angeles"},{date:"2016-05-02",name:"Tom",address:"No. 189, Grove St, Los Angeles"}]),(t,p)=>{const A=n("pro-crud"),L=n("pro-code");return e(),s("div",i,[u,r,k,g,a(L,null,{description:l((()=>[f])),code:l((()=>[y])),default:l((()=>[a(A,{modelValue:o(d),"onUpdate:modelValue":p[1]||(p[1]=t=>c(d)?d.value=t:d=t),search:o(v),"onUpdate:search":p[2]||(p[2]=t=>c(v)?v.value=t:v=t),columns:o(T),menu:o(w),data:o(F),onSearch:S,onSubmit:j,onDelete:V},null,8,["modelValue","search","columns","menu","data"])])),_:1}),x,a(L,null,{description:l((()=>[m])),code:l((()=>[b])),default:l((()=>[a(A,{modelValue:o(d),"onUpdate:modelValue":p[3]||(p[3]=t=>c(d)?d.value=t:d=t),columns:o(q),menu:o(w),data:o(F),"before-open":R,"before-close":C},null,8,["modelValue","columns","menu","data"])])),_:1}),h])}}};export default v;
