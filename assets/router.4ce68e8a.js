import{u as n}from"./index.41028ab1.js";import{l as t,m as a,n as s,x as o}from"./modules-vue.5333eed6.js";import"./modules-element-plus.b3b25a83.js";const e={class:"markdown-body"},p=s("h1",{id:"router-and-menu",tabindex:"-1"},[o("Router and Menu "),s("a",{class:"header-anchor",href:"#router-and-menu","aria-hidden":"true"},"#")],-1),c=s("p",null,[o("By default, layout-related components will automatically obtain the required routes information from "),s("code",null,"vue-router")],-1),u=s("h2",{id:"format",tabindex:"-1"},[o("Format "),s("a",{class:"header-anchor",href:"#format","aria-hidden":"true"},"#")],-1),l=s("p",null,[o("Compared with the vue-router type, only the "),s("code",null,"meta"),o(" attribute is extended")],-1),r=s("div",{class:"language-ts"},[s("pre",null,[s("code",{"v-pre":""},[s("span",{class:"token keyword"},"interface"),o(),s("span",{class:"token class-name"},"IRouteMeta"),o(),s("span",{class:"token keyword"},"extends"),o(),s("span",{class:"token class-name"},"RouteMeta"),o(),s("span",{class:"token punctuation"},"{"),o("\n  title"),s("span",{class:"token operator"},"?"),s("span",{class:"token operator"},":"),o(),s("span",{class:"token builtin"},"string"),o(),s("span",{class:"token comment"},"// Show menu title"),o("\n  icon"),s("span",{class:"token operator"},"?"),s("span",{class:"token operator"},":"),o(),s("span",{class:"token builtin"},"string"),o(),s("span",{class:"token comment"},"// Show menu icon"),o("\n  hidden"),s("span",{class:"token operator"},"?"),s("span",{class:"token operator"},":"),o(),s("span",{class:"token builtin"},"boolean"),o(),s("span",{class:"token comment"},"// Whether to display in the menu, does not affect the router jump"),o("\n  keepAlive"),s("span",{class:"token operator"},"?"),s("span",{class:"token operator"},":"),o(),s("span",{class:"token builtin"},"boolean"),o(),s("span",{class:"token comment"},"// Whether to keepAlive"),o("\n"),s("span",{class:"token punctuation"},"}"),o("\n")])])],-1),i=s("p",null,"refer router",-1),k=s("div",{class:"language-ts"},[s("pre",null,[s("code",{"v-pre":""},[s("span",{class:"token keyword"},"import"),o(" BaseLayout "),s("span",{class:"token keyword"},"from"),o(),s("span",{class:"token string"},"'../layout/Layout.vue'"),o("\n"),s("span",{class:"token keyword"},"import"),o(),s("span",{class:"token keyword"},"type"),o(),s("span",{class:"token punctuation"},"{"),o(" IRouteRecordRaw "),s("span",{class:"token punctuation"},"}"),o(),s("span",{class:"token keyword"},"from"),o(),s("span",{class:"token string"},"'/@src/index'"),o("\n\n"),s("span",{class:"token keyword"},"const"),o(" routes"),s("span",{class:"token operator"},":"),o(" IRouteRecordRaw"),s("span",{class:"token punctuation"},"["),s("span",{class:"token punctuation"},"]"),o(),s("span",{class:"token operator"},"="),o(),s("span",{class:"token punctuation"},"["),o("\n  "),s("span",{class:"token punctuation"},"{"),o("\n    path"),s("span",{class:"token operator"},":"),o(),s("span",{class:"token string"},"'/dev/'"),s("span",{class:"token punctuation"},","),o("\n    redirect"),s("span",{class:"token operator"},":"),o(),s("span",{class:"token string"},"'/dev/Layout'"),s("span",{class:"token punctuation"},","),o("\n    component"),s("span",{class:"token operator"},":"),o(" BaseLayout"),s("span",{class:"token punctuation"},","),o("\n    meta"),s("span",{class:"token operator"},":"),o(),s("span",{class:"token punctuation"},"{"),o(" title"),s("span",{class:"token operator"},":"),o(),s("span",{class:"token string"},"'Development'"),s("span",{class:"token punctuation"},","),o(" icon"),s("span",{class:"token operator"},":"),o(),s("span",{class:"token string"},"'el-icon-edit'"),o(),s("span",{class:"token punctuation"},"}"),s("span",{class:"token punctuation"},","),o("\n    children"),s("span",{class:"token operator"},":"),o(),s("span",{class:"token punctuation"},"["),o("\n      "),s("span",{class:"token punctuation"},"{"),o("\n        path"),s("span",{class:"token operator"},":"),o(),s("span",{class:"token string"},"'/dev/Layout'"),s("span",{class:"token punctuation"},","),o("\n        "),s("span",{class:"token function-variable function"},"component"),s("span",{class:"token operator"},":"),o(),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),o(),s("span",{class:"token operator"},"=>"),o(),s("span",{class:"token keyword"},"import"),s("span",{class:"token punctuation"},"("),s("span",{class:"token string"},"'../views/Layout.vue'"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},","),o("\n        meta"),s("span",{class:"token operator"},":"),o(),s("span",{class:"token punctuation"},"{"),o(" title"),s("span",{class:"token operator"},":"),o(),s("span",{class:"token string"},"'Layout'"),o(),s("span",{class:"token punctuation"},"}"),s("span",{class:"token punctuation"},","),o("\n      "),s("span",{class:"token punctuation"},"}"),s("span",{class:"token punctuation"},","),o("\n      "),s("span",{class:"token punctuation"},"{"),o("\n        path"),s("span",{class:"token operator"},":"),o(),s("span",{class:"token string"},"'/dev/Table'"),s("span",{class:"token punctuation"},","),o("\n        "),s("span",{class:"token function-variable function"},"component"),s("span",{class:"token operator"},":"),o(),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),o(),s("span",{class:"token operator"},"=>"),o(),s("span",{class:"token keyword"},"import"),s("span",{class:"token punctuation"},"("),s("span",{class:"token string"},"'../views/Table.vue'"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},","),o("\n        meta"),s("span",{class:"token operator"},":"),o(),s("span",{class:"token punctuation"},"{"),o(" title"),s("span",{class:"token operator"},":"),o(),s("span",{class:"token string"},"'Table'"),o(),s("span",{class:"token punctuation"},"}"),s("span",{class:"token punctuation"},","),o("\n      "),s("span",{class:"token punctuation"},"}"),s("span",{class:"token punctuation"},","),o("\n      "),s("span",{class:"token punctuation"},"{"),o("\n        path"),s("span",{class:"token operator"},":"),o(),s("span",{class:"token string"},"'/dev/Form'"),s("span",{class:"token punctuation"},","),o("\n        "),s("span",{class:"token function-variable function"},"component"),s("span",{class:"token operator"},":"),o(),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),o(),s("span",{class:"token operator"},"=>"),o(),s("span",{class:"token keyword"},"import"),s("span",{class:"token punctuation"},"("),s("span",{class:"token string"},"'../views/Form.vue'"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},","),o("\n        meta"),s("span",{class:"token operator"},":"),o(),s("span",{class:"token punctuation"},"{"),o(" title"),s("span",{class:"token operator"},":"),o(),s("span",{class:"token string"},"'Form'"),o(),s("span",{class:"token punctuation"},"}"),s("span",{class:"token punctuation"},","),o("\n      "),s("span",{class:"token punctuation"},"}"),s("span",{class:"token punctuation"},","),o("\n      "),s("span",{class:"token punctuation"},"{"),o("\n        path"),s("span",{class:"token operator"},":"),o(),s("span",{class:"token string"},"'/dev/Crud'"),s("span",{class:"token punctuation"},","),o("\n        "),s("span",{class:"token function-variable function"},"component"),s("span",{class:"token operator"},":"),o(),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),o(),s("span",{class:"token operator"},"=>"),o(),s("span",{class:"token keyword"},"import"),s("span",{class:"token punctuation"},"("),s("span",{class:"token string"},"'../views/Crud.vue'"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},","),o("\n        meta"),s("span",{class:"token operator"},":"),o(),s("span",{class:"token punctuation"},"{"),o(" title"),s("span",{class:"token operator"},":"),o(),s("span",{class:"token string"},"'Crud'"),o(),s("span",{class:"token punctuation"},"}"),s("span",{class:"token punctuation"},","),o("\n      "),s("span",{class:"token punctuation"},"}"),s("span",{class:"token punctuation"},","),o("\n    "),s("span",{class:"token punctuation"},"]"),s("span",{class:"token punctuation"},","),o("\n  "),s("span",{class:"token punctuation"},"}"),s("span",{class:"token punctuation"},","),o("\n"),s("span",{class:"token punctuation"},"]"),o("\n\n"),s("span",{class:"token keyword"},"export"),o(),s("span",{class:"token keyword"},"default"),o(" routes\n")])])],-1),d=s("h2",{id:"dynamic-routing",tabindex:"-1"},[o("Dynamic Routing "),s("a",{class:"header-anchor",href:"#dynamic-routing","aria-hidden":"true"},"#")],-1),m=s("p",null,[o("Components can only obtain the original routing information defined in "),s("code",null,"vue-router"),o(", and cannot obtain dynamically added routes. When using asynchronously generated dynamic routes, although you can pass prop ​​to the component through "),s("code",null,"routes"),o(", it is more recommended to dynamically increase it through the following methods. Just keep "),s("code",null,"router.options.routes"),o(" the same as the final dynamically added routes")],-1),h=s("div",{class:"language-js"},[s("pre",null,[s("code",{"v-pre":""},[s("span",{class:"token keyword"},"const"),o(" newRoute "),s("span",{class:"token operator"},"="),o(),s("span",{class:"token punctuation"},"{"),o("\n  name"),s("span",{class:"token operator"},":"),o(),s("span",{class:"token string"},"'admin'"),s("span",{class:"token punctuation"},","),o("\n  path"),s("span",{class:"token operator"},":"),o(),s("span",{class:"token string"},"'/admin'"),s("span",{class:"token punctuation"},","),o("\n  component"),s("span",{class:"token operator"},":"),o(" Layout"),s("span",{class:"token punctuation"},","),o("\n  meta"),s("span",{class:"token operator"},":"),o(),s("span",{class:"token punctuation"},"{"),o(" title"),s("span",{class:"token operator"},":"),o(),s("span",{class:"token string"},"'Admin'"),o(),s("span",{class:"token punctuation"},"}"),s("span",{class:"token punctuation"},","),o("\n  children"),s("span",{class:"token operator"},":"),o(),s("span",{class:"token punctuation"},"["),o("\n    "),s("span",{class:"token punctuation"},"{"),o("\n      path"),s("span",{class:"token operator"},":"),o(),s("span",{class:"token string"},"'settings'"),s("span",{class:"token punctuation"},","),o("\n      component"),s("span",{class:"token operator"},":"),o(" AdminSettings"),s("span",{class:"token punctuation"},","),o("\n      meta"),s("span",{class:"token operator"},":"),o(),s("span",{class:"token punctuation"},"{"),o(" title"),s("span",{class:"token operator"},":"),o(),s("span",{class:"token string"},"'Settings'"),o(),s("span",{class:"token punctuation"},"}"),s("span",{class:"token punctuation"},","),o("\n    "),s("span",{class:"token punctuation"},"}"),s("span",{class:"token punctuation"},","),o("\n  "),s("span",{class:"token punctuation"},"]"),s("span",{class:"token punctuation"},","),o("\n"),s("span",{class:"token punctuation"},"}"),o("\nrouter"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"addRoute"),s("span",{class:"token punctuation"},"("),o("newRoute"),s("span",{class:"token punctuation"},")"),o("\nrouter"),s("span",{class:"token punctuation"},"."),o("options"),s("span",{class:"token punctuation"},"."),o("routes"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"push"),s("span",{class:"token punctuation"},"("),o("newRoute"),s("span",{class:"token punctuation"},")"),o("\n")])])],-1),g=s("h2",{id:"auth-routing",tabindex:"-1"},[o("Auth Routing "),s("a",{class:"header-anchor",href:"#auth-routing","aria-hidden":"true"},"#")],-1),y=s("p",null,"The current component does not support auth routing, you need to manually add",-1),f=s("p",null,[o("Example: by "),s("a",{href:"#dynamic-routing"},"Dynamic Routing"),o(", remove routing information that does not have access rights when generating or adding routes")],-1),v=s("p",null,[o("Or: use "),s("code",null,"router.beforeEach"),o(" to check routing information")],-1),w=s("p",null,"Of course you can also combine the two way",-1),b={setup(s,{expose:o}){o({frontmatter:{title:"Router and Menu",meta:[{name:"description",content:"How to configure the route and menu of the element-pro-components component library"},{property:"og:title",content:"Router and Menu"}]}});return n({title:"Router and Menu",meta:[{name:"description",content:"How to configure the route and menu of the element-pro-components component library"},{property:"og:title",content:"Router and Menu"}]}),(n,s)=>(t(),a("div",e,[p,c,u,l,r,i,k,d,m,h,g,y,f,v,w]))}};export{b as default};
