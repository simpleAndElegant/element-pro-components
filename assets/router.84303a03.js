import{u as n}from"./index.41028ab1.js";import{l as s,m as a,n as t,x as o}from"./modules-vue.5333eed6.js";import"./modules-element-plus.b3b25a83.js";const e={class:"markdown-body"},p=t("h1",{id:"%E8%B7%AF%E7%94%B1%E5%92%8C%E8%8F%9C%E5%8D%95",tabindex:"-1"},[o("路由和菜单 "),t("a",{class:"header-anchor",href:"#%E8%B7%AF%E7%94%B1%E5%92%8C%E8%8F%9C%E5%8D%95","aria-hidden":"true"},"#")],-1),c=t("p",null,[o("默认情况下，布局相关的组件会自动从 "),t("code",null,"vue-router"),o(" 中获取所需要的路由信息")],-1),l=t("h2",{id:"%E7%BB%9F%E4%B8%80%E6%A0%BC%E5%BC%8F",tabindex:"-1"},[o("统一格式 "),t("a",{class:"header-anchor",href:"#%E7%BB%9F%E4%B8%80%E6%A0%BC%E5%BC%8F","aria-hidden":"true"},"#")],-1),u=t("p",null,[o("相比原生 router 类型仅扩展了 "),t("code",null,"meta"),o(" 属性")],-1),r=t("div",{class:"language-ts"},[t("pre",null,[t("code",{"v-pre":""},[t("span",{class:"token keyword"},"interface"),o(),t("span",{class:"token class-name"},"IRouteMeta"),o(),t("span",{class:"token keyword"},"extends"),o(),t("span",{class:"token class-name"},"RouteMeta"),o(),t("span",{class:"token punctuation"},"{"),o("\n  title"),t("span",{class:"token operator"},"?"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token builtin"},"string"),o(),t("span",{class:"token comment"},"// 用于显示菜单标题"),o("\n  icon"),t("span",{class:"token operator"},"?"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token builtin"},"string"),o(),t("span",{class:"token comment"},"// 用于显示菜单图标"),o("\n  hidden"),t("span",{class:"token operator"},"?"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token builtin"},"boolean"),o(),t("span",{class:"token comment"},"// 用于判断是否在菜单中显示，不影响 router-link 跳转"),o("\n  keepAlive"),t("span",{class:"token operator"},"?"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token builtin"},"boolean"),o(),t("span",{class:"token comment"},"// 控制 keepAlive"),o("\n"),t("span",{class:"token punctuation"},"}"),o("\n")])])],-1),k=t("p",null,"参考路由",-1),i=t("div",{class:"language-ts"},[t("pre",null,[t("code",{"v-pre":""},[t("span",{class:"token keyword"},"import"),o(" BaseLayout "),t("span",{class:"token keyword"},"from"),o(),t("span",{class:"token string"},"'../layout/Layout.vue'"),o("\n"),t("span",{class:"token keyword"},"import"),o(),t("span",{class:"token keyword"},"type"),o(),t("span",{class:"token punctuation"},"{"),o(" IRouteRecordRaw "),t("span",{class:"token punctuation"},"}"),o(),t("span",{class:"token keyword"},"from"),o(),t("span",{class:"token string"},"'/@src/index'"),o("\n\n"),t("span",{class:"token keyword"},"const"),o(" routes"),t("span",{class:"token operator"},":"),o(" IRouteRecordRaw"),t("span",{class:"token punctuation"},"["),t("span",{class:"token punctuation"},"]"),o(),t("span",{class:"token operator"},"="),o(),t("span",{class:"token punctuation"},"["),o("\n  "),t("span",{class:"token punctuation"},"{"),o("\n    path"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token string"},"'/dev/'"),t("span",{class:"token punctuation"},","),o("\n    redirect"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token string"},"'/dev/Layout'"),t("span",{class:"token punctuation"},","),o("\n    component"),t("span",{class:"token operator"},":"),o(" BaseLayout"),t("span",{class:"token punctuation"},","),o("\n    meta"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token punctuation"},"{"),o(" title"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token string"},"'Development'"),t("span",{class:"token punctuation"},","),o(" icon"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token string"},"'el-icon-edit'"),o(),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},","),o("\n    children"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token punctuation"},"["),o("\n      "),t("span",{class:"token punctuation"},"{"),o("\n        path"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token string"},"'/dev/Layout'"),t("span",{class:"token punctuation"},","),o("\n        "),t("span",{class:"token function-variable function"},"component"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},")"),o(),t("span",{class:"token operator"},"=>"),o(),t("span",{class:"token keyword"},"import"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"'../views/Layout.vue'"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},","),o("\n        meta"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token punctuation"},"{"),o(" title"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token string"},"'Layout'"),o(),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},","),o("\n      "),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},","),o("\n      "),t("span",{class:"token punctuation"},"{"),o("\n        path"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token string"},"'/dev/Table'"),t("span",{class:"token punctuation"},","),o("\n        "),t("span",{class:"token function-variable function"},"component"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},")"),o(),t("span",{class:"token operator"},"=>"),o(),t("span",{class:"token keyword"},"import"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"'../views/Table.vue'"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},","),o("\n        meta"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token punctuation"},"{"),o(" title"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token string"},"'Table'"),o(),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},","),o("\n      "),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},","),o("\n      "),t("span",{class:"token punctuation"},"{"),o("\n        path"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token string"},"'/dev/Form'"),t("span",{class:"token punctuation"},","),o("\n        "),t("span",{class:"token function-variable function"},"component"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},")"),o(),t("span",{class:"token operator"},"=>"),o(),t("span",{class:"token keyword"},"import"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"'../views/Form.vue'"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},","),o("\n        meta"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token punctuation"},"{"),o(" title"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token string"},"'Form'"),o(),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},","),o("\n      "),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},","),o("\n      "),t("span",{class:"token punctuation"},"{"),o("\n        path"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token string"},"'/dev/Crud'"),t("span",{class:"token punctuation"},","),o("\n        "),t("span",{class:"token function-variable function"},"component"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},")"),o(),t("span",{class:"token operator"},"=>"),o(),t("span",{class:"token keyword"},"import"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"'../views/Crud.vue'"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},","),o("\n        meta"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token punctuation"},"{"),o(" title"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token string"},"'Crud'"),o(),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},","),o("\n      "),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},","),o("\n    "),t("span",{class:"token punctuation"},"]"),t("span",{class:"token punctuation"},","),o("\n  "),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},","),o("\n"),t("span",{class:"token punctuation"},"]"),o("\n\n"),t("span",{class:"token keyword"},"export"),o(),t("span",{class:"token keyword"},"default"),o(" routes\n")])])],-1),d=t("h2",{id:"%E5%BC%82%E6%AD%A5%E8%B7%AF%E7%94%B1",tabindex:"-1"},[o("异步路由 "),t("a",{class:"header-anchor",href:"#%E5%BC%82%E6%AD%A5%E8%B7%AF%E7%94%B1","aria-hidden":"true"},"#")],-1),m=t("p",null,[o("组件只能够获取定义在 "),t("code",null,"vue-router"),o(" 中的原始路由信息，不能够获取动态增加的路由。当使用异步生成的动态路由时，虽然可以通过 "),t("code",null,"routes"),o(" 向组件中传值，但更推荐通过通过下面方式动态增加。只需要保持 "),t("code",null,"router.options.routes"),o(" 同最终动态增加的路由相同即可")],-1),E=t("div",{class:"language-js"},[t("pre",null,[t("code",{"v-pre":""},[t("span",{class:"token keyword"},"const"),o(" newRoute "),t("span",{class:"token operator"},"="),o(),t("span",{class:"token punctuation"},"{"),o("\n  name"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token string"},"'admin'"),t("span",{class:"token punctuation"},","),o("\n  path"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token string"},"'/admin'"),t("span",{class:"token punctuation"},","),o("\n  component"),t("span",{class:"token operator"},":"),o(" Layout"),t("span",{class:"token punctuation"},","),o("\n  meta"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token punctuation"},"{"),o(" title"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token string"},"'Admin'"),o(),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},","),o("\n  children"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token punctuation"},"["),o("\n    "),t("span",{class:"token punctuation"},"{"),o("\n      path"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token string"},"'settings'"),t("span",{class:"token punctuation"},","),o("\n      component"),t("span",{class:"token operator"},":"),o(" AdminSettings"),t("span",{class:"token punctuation"},","),o("\n      meta"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token punctuation"},"{"),o(" title"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token string"},"'Settings'"),o(),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},","),o("\n    "),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},","),o("\n  "),t("span",{class:"token punctuation"},"]"),t("span",{class:"token punctuation"},","),o("\n"),t("span",{class:"token punctuation"},"}"),o("\nrouter"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"addRoute"),t("span",{class:"token punctuation"},"("),o("newRoute"),t("span",{class:"token punctuation"},")"),o("\nrouter"),t("span",{class:"token punctuation"},"."),o("options"),t("span",{class:"token punctuation"},"."),o("routes"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"push"),t("span",{class:"token punctuation"},"("),o("newRoute"),t("span",{class:"token punctuation"},")"),o("\n")])])],-1),g=t("h2",{id:"%E8%B7%AF%E7%94%B1%E6%9D%83%E9%99%90",tabindex:"-1"},[o("路由权限 "),t("a",{class:"header-anchor",href:"#%E8%B7%AF%E7%94%B1%E6%9D%83%E9%99%90","aria-hidden":"true"},"#")],-1),h=t("p",null,"当前组件是不支持路由权限验证的，你需要手动增加",-1),v=t("p",null,[o("比如：通过 "),t("a",{href:"#%E5%BC%82%E6%AD%A5%E8%B7%AF%E7%94%B1"},"异步路由"),o(" 的方式，在增加生成或增加路由时去除没有访问权限的路由信息")],-1),B=t("p",null,[o("或者：在 "),t("code",null,"router.beforeEach"),o(" 中进行跳转验证")],-1),y=t("p",null,"当然也可以结合两者使用",-1),w={setup(t,{expose:o}){o({frontmatter:{title:"路由和菜单",meta:[{name:"description",content:"如何配置 element-pro-components 组件库的路由和菜单"},{property:"og:title",content:"路由和菜单"}]}});return n({title:"路由和菜单",meta:[{name:"description",content:"如何配置 element-pro-components 组件库的路由和菜单"},{property:"og:title",content:"路由和菜单"}]}),(n,t)=>(s(),a("div",e,[p,c,l,u,r,k,i,d,m,E,g,h,v,B,y]))}};export{w as default};
